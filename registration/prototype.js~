function register(){
        
                var repeadHaslo = document.getElementById("repeadhaslo").value;
                var registerResult = document.getElementById("registerResult");
        var login = document.getElementById("login").value;
        var haslo = document.getElementById("haslo").value;
        var mail = document.getElementById("mail").value;
        var token = document.getElementById("token").value;
        var regex = /^[a-zA-Z0-9._-]+@([a-zA-Z0-9.-]+\.)+[a-zA-Z0-9.-]{2,4}$/;
        var litPatt = /^[2-9]{5,5}$/;
                var odp = regex.test(mail);
                wynik= token.match(litPatt);
        if(login==''){
           registerResult.innerHTML = 'Błąd: Nie podano <b>Loginu</b>';
        }else if (!odp){
                registerResult.innerHTML = 'Błąd: <b>Adres e-mail jest nie poprawny</b>';
                }else if (haslo!= repeadHaslo){
                registerResult.innerHTML = 'Błąd: <b>Podane hasłą różnią się od siebie</b>';
        }else if(haslo==''){
           registerResult.innerHTML = 'Błąd: Nie podano <b>Hasła</b>';
        }else if(mail==''){
           registerResult.innerHTML = 'Błąd: Nie podano <b>Maila</b>';
        }else if(token==''){
           registerResult.innerHTML = 'Błąd: Nie podano <b>Tokena</b>';
        }else if(wynik == null){
          registerResult.innerHTML = 'Błąd:<b>Token zawiera złe dane</b>';
        }else{
                 var myAjax = new Ajax.Request(
                        'register.php',
                        {
                method: 'post',
                        parameters: "login="+login+
                                                "&haslo="+haslo+
                                                "&mail="+mail+
                                                "&token="+token,
                        onComplete: showResponse,
                onFailure: showAlert
                        });
        }
}
function showResponse(text){
        var registerResult = document.getElementById("registerResult");
        if(text.responseText=='1'){
        registerResult.innerHTML  = 'Błąd: <b>Token zawiera złe dane</b>';
                }else  if(text.responseText=='2'){
        registerResult.innerHTML  = 'Błąd: <b>Podany login jest już zajęty</b>';
        }else{         
        registerResult.innerHTML  = 'Rejestracja zakończona. Na twój adres e-mail został wysłany link aktywacyjny. Dziękujemy';
                }
}
function showAlert(MyRequest) {
        var registerResult = document.getElementById("registerResult");
        registerResult.innerHTML  = 'Błąd: <b>Nieudana rejestracja.</b>';
        var registerButton = document.getElementById('registerButton');
        registerButton.style.display = "none";
}

